<!DOCTYPE HTML><html>
<head>
  <title>Enable X Slice Cafe Digital Oven</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="Reach.png">
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
  <div class="topnav">
    <img class ="reachlogo"src = "./pictures/Reach.png"/>
    <h1 class="topnav-name">Enable X Slice Cafe Digital Oven</h1>
  </div>
  <div class="wholeApp">  
    <div class="content">
      <div class="card" id="content">
        <h2 class="statusstate">Status</h2>
        <p class="state state-function">Function: NIL</p>
        <p class="state state-temperature">Temperature(<sup>o</sup>C): NIL</p>
        <p class="state state-duration">Duration(mins): NIL</p>
      </div>
      <div>
        <div class="menu" id ="menu">
          <h2 class="statusstate">Function Menu</h2>
          <p class="functionOptions">Enter 1 for Fermentation</p>
          <p class="functionOptions">Enter 2 for Top & Bottom Heat</p>
          <p class="functionOptions">Enter 3 for Top heat with Rotisserie</p>
          <p class="functionOptions">Enter 4 for Top & Bottom Heat with Fan</p>
          <p class="functionOptions">Enter 5 for Top Heat with Fan & Rotisserie</p>
        </div>
      </div>
      <div class="buttons">
          <div class="firstSet" id="firstSet" onclick="selectfirst()">
            <div class="firstwrapper">
              <div class="buttonInner grill-box">
                <!-- slider stuff -->
                <div class="iconWithDescription">
                  <img class="grill" src="./pictures/grill.png"/>
                  <p class="titles grillTitle" id="firstTitle">Grill</p>
                </div>
                  <div class="slidersandduration">
                  <!-- <h2 class="descriptions" id="firstTemperature"></h2> -->
                  <div class="slidercontainter">
                    <input type="range" min="1" max="100" value="50" class="slider" id="grillTemperatureSlider"/>
                    <p class="settings">Temperature: <span class="settings" id="grillTemp"></span><span class="settings"><sup>o</sup>C </span></p>
                  </div>
                  <h2 class="descriptions" id="firstDuration"></h2>
                  <div class="slidercontainter durationSliderContainer">
                    <input type="range" min="1" max="100" value="50" class="slider" id="grillDurationSlider"/>
                    <p class="settings">Duration: <span class="settings" id="grillDuration"></span><span class="settings"> Mins</span></p>
                  </div>
                  <!-- tooltip stuff -->
                <img class="grill" src="./pictures/grill.png"/>
                <h2 class="titles" id="firstTitle">Grill</h2>
                <div class="information-wrapper">
                  <img src="./pictures/information-filled.svg" class="information-icon" />
                  <div class="information-tooltip">
                    <p>Temperature: 24<sup>o</sup>C</p>
                    <p>Duration: 10mins</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="secondSet" id="secondSet" onclick="selectsecond()">
            <div class="second">
              <div class="secondwrapper">
                <div class="buttonInner">
                  <img class="baking" src="./pictures/baking.png"/>
                  <h2 class="titles" id="secondTitle">Bake</h2>
                  <div class="slidersandduration">
                    <!-- <h2 class="descriptions" id="firstTemperature"></h2> -->
                    <div class="slidercontainter">
                      <input type="range" min="1" max="100" value="50" class="slider" id="bakeTemperatureSlider"/>
                      <p class="settings">Temperature: <span class="settings" id="bakeTemp"></span><span class="settings"><sup>o</sup>C </span></p>
                    </div>
                    <p class="descriptions" id="secondDuration"></p>
                    <div class="slidercontainter durationSliderContainer secondDurationSlider">
                      <input type="range" min="1" max="100" value="50" class="slider" id="bakeDurationSlider"/>
                      <p class="settings">Duration: <span class="settings" id="bakeDuration"></span><span class="settings"> Mins</span></p>
                    </div>
                  </div>
                  <h2></h2>
                </div>
              </div>
            </div>
          </div> 
          <div class="thirdSet" id ="thirdSet" onclick="selectthird()">
            <div class="third">
              <div class="buttonInner">
                <img  class="rotisserie" src="./pictures/rotisserie.png"/>
                <h2 class="titles" id="thirdTitle">Rotisserie </h2>
                <input class="hidden" id= "function3" type="number" min="1" max="5" value=%defaultF3%>
                  <h2 class="descriptions" id="thirdTemperature"></h2>
                  <input class="hidden"  id= "temperature3" type="number" min="1" max="230" value=%defaultT3%>
                  <h2 class="descriptions" id="thirdDuration"></h2>
                  <input class="hidden"  id= "duration3" type="number" min="1" max="120"  value=%defaultD3%>
                <h2></h2>
              </div>
            </div>
          </div>
          <!-- <div class="fourthSet" id="fourthSet" onclick="selectfourth()">
            <div class="fourth">
              <div class="buttonInner">
                <h2 class="titles" id="fourthTitle"></h2>
                <input class="function" id= "function4" type="number" min="1" max="5" value=%defaultF4%>
                  <h2 class="descriptions" id="fourthTemperature"></h2>
                  <input  class="temperature" id= "temperature4" type="number" min="1" max="230" value=%defaultT4%>
                  <h2 class="descriptions" id="fourthDuration"></h2>
                  <input  class="duration" id= "duration4" type="number" min="1" max="120" value=%defaultD4%>
                <h2></h2>
              </div>
            </div>
          </div> -->
      </div>
    </div>
    <div class="bottomnav" id="defaultbottomnav">
      <!-- <div class="playbutton" id = "playbutton">
        <svg class="playbuttonicon" xmlns="http://www.w3.org/2000/svg"class="w-6 h-20" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z" />
        </svg> 
      </div> -->
      <div class="leftside">
        <div class="homebutton">
          <svg class="homebuttonicon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
          </svg>
          <span class="home">Home</span>        
        </div>
      </div>
    <div class="border">
    </div>
      <div class="rightside">
        <div class="settingsbutton" onclick="hideblock()">
          <svg class="settingsbuttonicon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
          <span class="Settings">Settings</span>      
        </div>     
      </div>
    </div>
    <div class="alternatebottomnav" id="alternatebottomnav">
      <div class="backbutton" onclick="hideblock()">
        <svg class="backbuttonicon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3" />
        </svg>
      </div>
      <div class="savebutton" onclick=toggleSave()>
        <div class="savebuttonicon">
          <svg class = "savebuttonicon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 3.75V16.5L12 14.25 7.5 16.5V3.75m9 0H18A2.25 2.25 0 0120.25 6v12A2.25 2.25 0 0118 20.25H6A2.25 2.25 0 013.75 18V6A2.25 2.25 0 016 3.75h1.5m9 0h-9" />
          </svg>
        </div>
      </div>
    </div>
    <div class="thirdBottomNav" id = "thirdBottomNav">
      <div class="resetButtonClass">
        <h3 class="resetButton" onclick="resetfunction()"> Reset </h3>
      </div>
    </div>
  </div>
<script>
  function adjustSlider(sliderId,sliderOuter){
    let slider = document.getElementById(sliderId);
    let output = document.getElementById(sliderOuter);
    output.innerHTML = slider.value;
    slider.oninput = function() {
      output.innerHTML = this.value;
    }
  }
  adjustSlider("grillTemperatureSlider","grillTemp");
  adjustSlider("grillDurationSlider","grillDuration");
  adjustSlider("bakeTemperatureSlider","bakeTemp");
  adjustSlider("bakeDurationSlider","bakeDuration");
  let defaultNavbar = document.getElementById("defaultbottomnav");
  let thirdNavbar = document.getElementById("thirdBottomNav");
  // let functionnames ={1:"Fermentation", 2:"Top & Bottom Heat",3:"Top Heat with Rotisserie", 4:"Top & Bottom Heat with Fan",5:"Top Heat with Fan & Rotisserie"};
  // let function1name = document.getElementById("firstTitle");
  // let function2name = document.getElementById("secondTitle");
  // let function3name = document.getElementById("thirdTitle");
  // let function4name = document.getElementById("fourthTitle");
  // let function1Set = document.getElementById("function1").value;
  // let function2Set = document.getElementById("function2").value;
  // let function3Set = document.getElementById("function3").value;
  // let function4Set = document.getElementById("function4").value;
  // function1name.innerHTML=functionnames[function1Set];
  // function2name.innerHTML=functionnames[function2Set];
  // function3name.innerHTML=functionnames[function3Set];
  // function4name.innerHTML=functionnames[function4Set];
  let temperature1Name = document.getElementById("firstTemperature");
  let temperature2Name = document.getElementById("secondTemperature");
  let temperature3Name = document.getElementById("thirdTemperature");
  // let temperature4Name = document.getElementById("fourthTemperature");
  let duration1Name = document.getElementById("firstDuration");
  let duration2Name = document.getElementById("secondDuration");
  let duration3Name = document.getElementById("thirdDuration");
  // let duration4Name = document.getElementById("fourthDuration");
  let temperature1Set = document.getElementById("temperature1").value;
  let temperature2Set = document.getElementById("temperature2").value;
  let temperature3Set = document.getElementById("temperature3").value;
  // let temperature4Set = document.getElementById("temperature4").value;
  let duration1Set = document.getElementById("duration1").value;
  let duration2Set = document.getElementById("duration2").value;
  let duration3Set = document.getElementById("duration3").value;
  // let duration4Set = document.getElementById("duration4").value;
  temperature1Name.innerHTML= temperature1Set+ "<sup>o</sup>C";
  temperature2Name.innerHTML= temperature2Set+ "<sup>o</sup>C";
  temperature3Name.innerHTML= temperature3Set+ "<sup>o</sup>C";
  // temperature4Name.innerHTML= temperature4Set+ "<sup>o</sup>C";
  duration1Name.innerHTML=duration1Set + " Mins";
  duration2Name.innerHTML=duration2Set + " Mins";
  duration3Name.innerHTML=duration3Set + " Mins";
  // duration4Name.innerHTML=duration4Set + " Mins";
  var gateway = `ws://${window.location.hostname}/ws`; //gets the webserver IP address
  var websocket;
  let temperatureInput1 = true;
  let temperatureInput2 = true;
  let temperatureInput3 = true;
  let temperatureInput4 = true;
  let temperature = "0";
  let duration = "0";
  let maxTemp= "0";
  let maxDuration= "0";
  let selectedFunction=0;
  window.addEventListener('load', onLoad); //adds listeners to it
  function initWebSocket() {
    console.log('Trying to open a WebSocket connection...');
    websocket = new WebSocket(gateway);
    websocket.onopen    = onOpen;
    websocket.onclose   = onClose;
    websocket.onmessage = onMessage; 
  }
  function onOpen(event) {
    console.log('Connection opened');
  }
  function onClose(event) {
    console.log('Connection closed');
    setTimeout(initWebSocket, 2000);
  }
  function onMessage(event) { //Handles incoming message from the server (esp32 board)
    var state;
    let data = event.data.split(",");
    temperature = data[1];
    duration = data[3];
    maxTemp= data[5];
    maxDuration= data[7];
    selectedFunction=parseInt(data[9]);
    document.getElementsByClassName("state-function")[0].innerHTML = `Function: ${functionnames[selectedFunction]}`;
    document.getElementsByClassName("state-temperature")[0].innerHTML = `Temp(<sup>o</sup>C): ${temperature}/${maxTemp}`;
    document.getElementsByClassName("state-duration")[0].innerHTML = `Duration(mins): ${duration}/${maxDuration}`;
  }
  function onLoad(event) {
    initWebSocket();
    initButton();
  }
  function initButton() {
    document.getElementById('button').addEventListener('click', toggle);
    // document.getElementById('firstbutton').addEventListener('click', toggle1);
    // document.getElementById('secondbutton').addEventListener('click', toggle2);
    // document.getElementById('thirdbutton').addEventListener('click', toggle3);
    // document.getElementById('fourthbutton').addEventListener('click', toggle4);
    // document.getElementById('saveButton').addEventListener('click', toggleSave);

    document.getElementById('setting1').addEventListener('click', () => {
      temperatureInput1 = !temperatureInput1;
      document.getElementById('temperature1').disabled= temperatureInput1;
      document.getElementById('duration1').disabled= temperatureInput1;
      document.getElementById('function1').disabled= temperatureInput1;
    });
    document.getElementById('setting2').addEventListener('click', () => {
      temperatureInput2 = !temperatureInput2;
      document.getElementById('temperature2').disabled= temperatureInput2;
      document.getElementById('duration2').disabled= temperatureInput2;
      document.getElementById('function2').disabled= temperatureInput2;
    });
    document.getElementById('setting3').addEventListener('click', () => {
      temperatureInput3 = !temperatureInput3;
      document.getElementById('temperature3').disabled= temperatureInput3;
      document.getElementById('duration3').disabled= temperatureInput3;
      document.getElementById('function3').disabled= temperatureInput3;
    });
    document.getElementById('setting4').addEventListener('click', () => {
      temperatureInput4 = !temperatureInput4;
      document.getElementById('temperature4').disabled= temperatureInput4;
      document.getElementById('duration4').disabled= temperatureInput4;
      document.getElementById('function4').disabled= temperatureInput4;
    });
  }
  function toggle(){
    //console.log("toggle");
    websocket.send("toggle");
  }
  // function toggle1(){
  //   var temp = document.getElementById("temperature1").value;
  //   var duration = document.getElementById("duration1").value;
  //   var func = document.getElementById("function1").value;
  //   var value= temp+','+duration+','+func
  //   // console.log(value);
  //   websocket.send(value);
  // }
  // function toggle2(){
  //   var temp = document.getElementById("temperature2").value;
  //   var duration = document.getElementById("duration2").value;
  //   var func = document.getElementById("function2").value;
  //   var value= temp+','+duration+','+func
  //   //console.log(value);
  //   websocket.send(value);
  // }
  // function toggle3(){
  //   var temp = document.getElementById("temperature3").value;
  //   var duration = document.getElementById("duration3").value;
  //   var func = document.getElementById("function3").value;
  //   var value= temp+','+duration+','+func
  //   //console.log(value);
  //   websocket.send(value);
  // }
  // function toggle4(){
  //   var temp = document.getElementById("temperature4").value;
  //   var duration = document.getElementById("duration4").value;
  //   var func = document.getElementById("function4").value;
  //   var value= temp+','+duration+','+func
  //   //console.log(value);
  //   websocket.send(value);
  // }
  function toggleSave(){
    var temp1 = document.getElementById("temperature1").value;
    var duration1 = document.getElementById("duration1").value;
    var func1 = document.getElementById("function1").value;
    var temp2 = document.getElementById("temperature2").value;
    var duration2 = document.getElementById("duration2").value;
    var func2 = document.getElementById("function2").value;
    var temp3 = document.getElementById("temperature3").value;
    var duration3 = document.getElementById("duration3").value;
    var func3 = document.getElementById("function3").value;
    var temp4 = document.getElementById("temperature4").value;
    var duration4 = document.getElementById("duration4").value;
    var func4 = document.getElementById("function4").value;
    websocket.send(`save,${temp1}\n${duration1}\n${func1}\n${temp2}\n${duration2}\n${func2}\n${temp3}\n${duration3}\n${func3}\n${temp4}\n${duration4}\n${func4}`);
    hideblock();

  }

function hideblock(){
  let functionMenu = document.getElementById("menu");
  let x=  document.getElementById("content");
  let y= document.getElementById("defaultbottomnav");
  let z= document.getElementById("alternatebottomnav");
  let temperature1 =document.getElementById("temperature1");
  let temperature2 =document.getElementById("temperature2");
  let temperature3 =document.getElementById("temperature3");
  let temperature4 =document.getElementById("temperature4");
  let duration1 = document.getElementById("duration1");
  let duration2 = document.getElementById("duration2");
  let duration3 = document.getElementById("duration3");
  let duration4 = document.getElementById("duration4");
  let function1 = document.getElementById("function1");
  let function2 = document.getElementById("function2");
  let function3 = document.getElementById("function3");
  let function4 = document.getElementById("function4");
  if(x.style.display=="none"){
    x.style.display="block";
    y.style.display="flex";
    z.style.display="none";
    temperature1.style.display="none"
    temperature2.style.display="none"
    temperature3.style.display="none"
    temperature4.style.display="none"
    duration1.style.display="none";
    duration2.style.display="none";
    duration3.style.display="none";
    duration4.style.display="none";
    function1.style.display="none";
    function2.style.display="none";
    function3.style.display="none";
    function4.style.display="none";
    functionMenu.style.display="none";
  }
  else{
    x.style.display="none";
    y.style.display="none";
    z.style.display="flex";
    temperature1.style.display="block";
    temperature2.style.display="block";
    temperature3.style.display="block";
    temperature4.style.display="block";
    duration1.style.display="block";
    duration2.style.display="block";
    duration3.style.display="block";
    duration4.style.display="block";
    function1.style.display="block";
    function2.style.display="block";
    function3.style.display="block";
    function4.style.display="block";
    functionMenu.style.display="block";
  }

  let function1Set = document.getElementById("function1").value;
  let function2Set = document.getElementById("function2").value;
  let function3Set = document.getElementById("function3").value;
  let function4Set = document.getElementById("function4").value;
  let temperature1Set = document.getElementById("temperature1").value;
  let temperature2Set = document.getElementById("temperature2").value;
  let temperature3Set = document.getElementById("temperature3").value;
  let temperature4Set = document.getElementById("temperature4").value;
  let duration1Set = document.getElementById("duration1").value;
  let duration2Set = document.getElementById("duration2").value;
  let duration3Set = document.getElementById("duration3").value;
  let duration4Set = document.getElementById("duration4").value;
  function1name.innerHTML=functionnames[function1Set];
  function2name.innerHTML=functionnames[function2Set];
  function3name.innerHTML=functionnames[function3Set];
  function4name.innerHTML=functionnames[function4Set];
  temperature1Name.innerHTML= temperature1Set+ "°C";
  temperature2Name.innerHTML= temperature2Set+ "°C";
  temperature3Name.innerHTML= temperature3Set+ "°C";
  temperature4Name.innerHTML= temperature4Set+ "°C";
  duration1Name.innerHTML=duration1Set + " Mins";
  duration2Name.innerHTML=duration2Set + " Mins";
  duration3Name.innerHTML=duration3Set + " Mins";
  duration4Name.innerHTML=duration4Set + " Mins";
}
function resetall(){
  let box1 = document.getElementById("firstSet");
  let box2 = document.getElementById("secondSet");
  let box3 = document.getElementById("thirdSet");
  let box4 = document.getElementById("fourthSet");
  box1.style.backgroundColor="#FFB52E";
  box2.style.backgroundColor="#A668A6";
  box3.style.backgroundColor="#F7A4A4";
  box4.style.backgroundColor="#10BBE5";
} 
function selectfirst(){
  let menu = document.getElementById("menu");
  let check = window.getComputedStyle(menu,null).display;
  if(check != "none"){
    return;
  }
  let x = document.getElementById("firstSet");
  let y=window.getComputedStyle(x);
  let z = y.getPropertyValue("background-color");
  if(z === "rgb(255, 181, 46)"){
    resetall();
    defaultNavbar.style.display="none";
    thirdNavbar.style.display="flex";
    x.style.backgroundColor="green";
    let temperature = document.getElementById("temperature1").value;
    let duration = document.getElementById("duration1").value;
    let functionSent = document.getElementById("function1").value;
    console.log("function," + functionSent+"," + temperature + "," + duration);
    websocket.send("function," + functionSent+"," + temperature + "," + duration);
  }
  else{
    resetall();
  }
}
function selectsecond(){
  let menu = document.getElementById("menu");
  let check = window.getComputedStyle(menu,null).display;
  if(check != "none"){
    return;
  }
  let x = document.getElementById("secondSet");
  let y=window.getComputedStyle(x);
  let z = y.getPropertyValue("background-color");
  if(z === "rgb(166, 104, 166)"){
    resetall();
    defaultNavbar.style.display="none";
    thirdNavbar.style.display="flex";
    x.style.backgroundColor="green";
    let temperature = document.getElementById("temperature2").value;
    let duration = document.getElementById("duration2").value;
    let functionSent = document.getElementById("function2").value;
    console.log("function," + functionSent+"," + temperature + "," + duration);
    websocket.send("function," + functionSent+"," + temperature + "," + duration);
  }
  else{
    resetall();
  }
}
function selectthird(){
  let menu = document.getElementById("menu");
  let check = window.getComputedStyle(menu,null).display;
  if(check != "none"){
    return;
  }
  let x = document.getElementById("thirdSet");
  let y=window.getComputedStyle(x);
  let z = y.getPropertyValue("background-color");
  if(z === "rgb(247, 164, 164)"){
    resetall();
    defaultNavbar.style.display="none";
    thirdNavbar.style.display="flex";
    x.style.backgroundColor="green";
    let temperature = document.getElementById("temperature3").value;
    let duration = document.getElementById("duration3").value;
    let functionSent = document.getElementById("function3").value;
    console.log("function," + functionSent+"," + temperature + "," + duration);
    websocket.send("function," + functionSent+"," + temperature + "," + duration);
  }
  else{
    resetall();
  }
}
function selectfourth(){
  let menu = document.getElementById("menu");
  let check = window.getComputedStyle(menu,null).display;
  if(check != "none"){
    return;
  }
  let x = document.getElementById("fourthSet");
  let y=window.getComputedStyle(x);
  let z = y.getPropertyValue("background-color");
  if(z === "rgb(16, 187, 229)"){
    resetall();
    defaultNavbar.style.display="none";
    thirdNavbar.style.display="flex";
    x.style.backgroundColor="green";
    let temperature = document.getElementById("temperature4").value;
    let duration = document.getElementById("duration4").value;
    let functionSent = document.getElementById("function4").value;
    console.log("function," + functionSent+"," + temperature + "," + duration);
    websocket.send("function," + functionSent+"," + temperature + "," + duration);
  }
  else{
    resetall();
  }
}
function resetfunction(){
  websocket.send("reset");
  resetall();
  document.getElementsByClassName("state-function")[0].innerHTML = `Function: RESET`;
  document.getElementsByClassName("state-temperature")[0].innerHTML = `Temp(<sup>o</sup>C): RESET`;
  document.getElementsByClassName("state-duration")[0].innerHTML = `Duration(mins): RESET`;
  defaultNavbar.style.display="flex";
  thirdNavbar.style.display="none";
  temperature = "0";
  duration = "0";
  maxTemp= "0";
  maxDuration= "0";
  selectedFunction=0;
}


</script>
</body>
</html>
